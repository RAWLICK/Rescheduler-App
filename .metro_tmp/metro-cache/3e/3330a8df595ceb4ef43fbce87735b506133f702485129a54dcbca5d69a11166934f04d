{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":32,"column":0,"index":964}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":32,"column":0,"index":964}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":32,"column":0,"index":964}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.VelocityTracker = void 0;\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n  var VelocityTracker = exports.VelocityTracker = /*#__PURE__*/function () {\n    function VelocityTracker() {\n      (0, _classCallCheck2.default)(this, VelocityTracker);\n      this.history = [];\n      this.lastPosition = undefined;\n      this.lastTimestamp = undefined;\n    }\n    return (0, _createClass2.default)(VelocityTracker, [{\n      key: \"add\",\n      value: function add(position) {\n        var timestamp = new Date().valueOf();\n        if (this.lastPosition && this.lastTimestamp && timestamp > this.lastTimestamp) {\n          var diff = position - this.lastPosition;\n          if (diff > 0.001 || diff < -0.001) {\n            this.history.push(diff / (timestamp - this.lastTimestamp));\n          }\n        }\n        this.lastPosition = position;\n        this.lastTimestamp = timestamp;\n      }\n    }, {\n      key: \"estimateSpeed\",\n      value: function estimateSpeed() {\n        var finalTrend = this.history.slice(-3);\n        var sum = finalTrend.reduce(function (r, v) {\n          return r + v;\n        }, 0);\n        return sum / finalTrend.length;\n      }\n    }, {\n      key: \"reset\",\n      value: function reset() {\n        this.history = [];\n        this.lastPosition = undefined;\n        this.lastTimestamp = undefined;\n      }\n    }]);\n  }();\n});","lineCount":47,"map":[[9,6,1,13,"VelocityTracker"],[9,21,1,28],[9,24,1,28,"exports"],[9,31,1,28],[9,32,1,28,"VelocityTracker"],[9,47,1,28],[10,4,5,4],[10,13,5,4,"VelocityTracker"],[10,29,5,4],[10,31,5,18],[11,6,5,18],[11,10,5,18,"_classCallCheck2"],[11,26,5,18],[11,27,5,18,"default"],[11,34,5,18],[11,42,5,18,"VelocityTracker"],[11,57,5,18],[12,6,6,8],[12,10,6,12],[12,11,6,13,"history"],[12,18,6,20],[12,21,6,23],[12,23,6,25],[13,6,7,8],[13,10,7,12],[13,11,7,13,"lastPosition"],[13,23,7,25],[13,26,7,28,"undefined"],[13,35,7,37],[14,6,8,8],[14,10,8,12],[14,11,8,13,"lastTimestamp"],[14,24,8,26],[14,27,8,29,"undefined"],[14,36,8,38],[15,4,9,4],[16,4,9,5],[16,15,9,5,"_createClass2"],[16,28,9,5],[16,29,9,5,"default"],[16,36,9,5],[16,38,9,5,"VelocityTracker"],[16,53,9,5],[17,6,9,5,"key"],[17,9,9,5],[18,6,9,5,"value"],[18,11,9,5],[18,13,10,4],[18,22,10,4,"add"],[18,25,10,7,"add"],[18,26,10,8,"position"],[18,34,10,16],[18,36,10,18],[19,8,11,8],[19,12,11,14,"timestamp"],[19,21,11,23],[19,24,11,26],[19,28,11,30,"Date"],[19,32,11,34],[19,33,11,35],[19,34,11,36],[19,35,11,37,"valueOf"],[19,42,11,44],[19,43,11,45],[19,44,11,46],[20,8,12,8],[20,12,12,12],[20,16,12,16],[20,17,12,17,"lastPosition"],[20,29,12,29],[20,33,12,33],[20,37,12,37],[20,38,12,38,"lastTimestamp"],[20,51,12,51],[20,55,12,55,"timestamp"],[20,64,12,64],[20,67,12,67],[20,71,12,71],[20,72,12,72,"lastTimestamp"],[20,85,12,85],[20,87,12,87],[21,10,13,12],[21,14,13,18,"diff"],[21,18,13,22],[21,21,13,25,"position"],[21,29,13,33],[21,32,13,36],[21,36,13,40],[21,37,13,41,"lastPosition"],[21,49,13,53],[22,10,14,12],[22,14,14,16,"diff"],[22,18,14,20],[22,21,14,23],[22,26,14,28],[22,30,14,32,"diff"],[22,34,14,36],[22,37,14,39],[22,38,14,40],[22,43,14,45],[22,45,14,47],[23,12,15,16],[23,16,15,20],[23,17,15,21,"history"],[23,24,15,28],[23,25,15,29,"push"],[23,29,15,33],[23,30,15,34,"diff"],[23,34,15,38],[23,38,15,42,"timestamp"],[23,47,15,51],[23,50,15,54],[23,54,15,58],[23,55,15,59,"lastTimestamp"],[23,68,15,72],[23,69,15,73],[23,70,15,74],[24,10,16,12],[25,8,17,8],[26,8,18,8],[26,12,18,12],[26,13,18,13,"lastPosition"],[26,25,18,25],[26,28,18,28,"position"],[26,36,18,36],[27,8,19,8],[27,12,19,12],[27,13,19,13,"lastTimestamp"],[27,26,19,26],[27,29,19,29,"timestamp"],[27,38,19,38],[28,6,20,4],[29,4,20,5],[30,6,20,5,"key"],[30,9,20,5],[31,6,20,5,"value"],[31,11,20,5],[31,13,21,4],[31,22,21,4,"estimateSpeed"],[31,35,21,17,"estimateSpeed"],[31,36,21,17],[31,38,21,20],[32,8,22,8],[32,12,22,14,"finalTrend"],[32,22,22,24],[32,25,22,27],[32,29,22,31],[32,30,22,32,"history"],[32,37,22,39],[32,38,22,40,"slice"],[32,43,22,45],[32,44,22,46],[32,45,22,47],[32,46,22,48],[32,47,22,49],[33,8,23,8],[33,12,23,14,"sum"],[33,15,23,17],[33,18,23,20,"finalTrend"],[33,28,23,30],[33,29,23,31,"reduce"],[33,35,23,37],[33,36,23,38],[33,46,23,39,"r"],[33,47,23,40],[33,49,23,42,"v"],[33,50,23,43],[34,10,23,43],[34,17,23,48,"r"],[34,18,23,49],[34,21,23,52,"v"],[34,22,23,53],[35,8,23,53],[35,11,23,55],[35,12,23,56],[35,13,23,57],[36,8,24,8],[36,15,24,15,"sum"],[36,18,24,18],[36,21,24,21,"finalTrend"],[36,31,24,31],[36,32,24,32,"length"],[36,38,24,38],[37,6,25,4],[38,4,25,5],[39,6,25,5,"key"],[39,9,25,5],[40,6,25,5,"value"],[40,11,25,5],[40,13,26,4],[40,22,26,4,"reset"],[40,27,26,9,"reset"],[40,28,26,9],[40,30,26,12],[41,8,27,8],[41,12,27,12],[41,13,27,13,"history"],[41,20,27,20],[41,23,27,23],[41,25,27,25],[42,8,28,8],[42,12,28,12],[42,13,28,13,"lastPosition"],[42,25,28,25],[42,28,28,28,"undefined"],[42,37,28,37],[43,8,29,8],[43,12,29,12],[43,13,29,13,"lastTimestamp"],[43,26,29,26],[43,29,29,29,"undefined"],[43,38,29,38],[44,6,30,4],[45,4,30,5],[46,2,30,5],[47,0,30,5],[47,3]],"functionMap":{"names":["<global>","VelocityTracker","VelocityTracker#constructor","VelocityTracker#add","VelocityTracker#estimateSpeed","finalTrend.reduce$argument_0","VelocityTracker#reset"],"mappings":"AAA,OC;ICI;KDI;IEC;KFU;IGC;sCCE,eD;KHE;IKC;KLI;CDC"}},"type":"js/module"}]}