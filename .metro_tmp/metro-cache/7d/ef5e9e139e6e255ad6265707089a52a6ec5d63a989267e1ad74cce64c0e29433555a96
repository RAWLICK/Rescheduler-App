{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":47,"column":0,"index":941}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":47,"column":0,"index":941}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":47,"column":0,"index":941}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":47,"column":0,"index":941}}],"key":"rcd0dMwf8BS2g+8U1wyhIOxtYEo="}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":47,"column":0,"index":941}}],"key":"4pxOr+e+5cSZAdeEKxSt3F7LoKY="}},{"name":"@babel/runtime/helpers/inherits","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":47,"column":0,"index":941}}],"key":"EDnOjopp9yNVawSzfBRsy2dq5dM="}},{"name":"./baseError","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":36,"index":36}}],"key":"Xro373VfOlu1Z6dDL5ljGEf6jyY="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.TimeoutError = void 0;\n  exports.fetchWithTimeout = fetchWithTimeout;\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/createClass\"));\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/classCallCheck\"));\n  var _possibleConstructorReturn2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n  var _getPrototypeOf2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/getPrototypeOf\"));\n  var _inherits2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/inherits\"));\n  var _baseError = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"./baseError\"));\n  function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }\n  function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\n  var TimeoutError = exports.TimeoutError = /*#__PURE__*/function (_BaseError) {\n    function TimeoutError(msg) {\n      (0, _classCallCheck2.default)(this, TimeoutError);\n      return _callSuper(this, TimeoutError, ['TimeoutError', msg]);\n    }\n    (0, _inherits2.default)(TimeoutError, _BaseError);\n    return (0, _createClass2.default)(TimeoutError);\n  }(_baseError.default);\n  function makeTimeout(timeoutMs) {\n    var timerId = null;\n    var promise = new Promise(function (_, reject) {\n      timerId = setTimeout(function () {\n        reject(new TimeoutError('Timeout'));\n      }, timeoutMs);\n    });\n    return {\n      timerId: timerId,\n      promise: promise\n    };\n  }\n  function fetchWithTimeout(url, options, timeoutMs) {\n    var _makeTimeout = makeTimeout(timeoutMs),\n      timeoutPromise = _makeTimeout.promise,\n      timerId = _makeTimeout.timerId;\n    var abortController = new AbortController();\n    return Promise.race([fetch(url, Object.assign({}, options, {\n      signal: abortController.signal\n    })), timeoutPromise]).catch(function (error) {\n      if (error instanceof TimeoutError) {\n        abortController.abort();\n      }\n      throw error;\n    }).then(function (response) {\n      clearTimeout(timerId);\n      return response;\n    });\n  }\n});","lineCount":53,"map":[[13,2,1,0],[13,6,1,0,"_baseError"],[13,16,1,0],[13,19,1,0,"_interopRequireDefault"],[13,41,1,0],[13,42,1,0,"_$$_REQUIRE"],[13,53,1,0],[13,54,1,0,"_dependencyMap"],[13,68,1,0],[14,2,1,36],[14,11,1,36,"_callSuper"],[14,22,1,36,"t"],[14,23,1,36],[14,25,1,36,"o"],[14,26,1,36],[14,28,1,36,"e"],[14,29,1,36],[14,40,1,36,"o"],[14,41,1,36],[14,48,1,36,"_getPrototypeOf2"],[14,64,1,36],[14,65,1,36,"default"],[14,72,1,36],[14,74,1,36,"o"],[14,75,1,36],[14,82,1,36,"_possibleConstructorReturn2"],[14,109,1,36],[14,110,1,36,"default"],[14,117,1,36],[14,119,1,36,"t"],[14,120,1,36],[14,122,1,36,"_isNativeReflectConstruct"],[14,147,1,36],[14,152,1,36,"Reflect"],[14,159,1,36],[14,160,1,36,"construct"],[14,169,1,36],[14,170,1,36,"o"],[14,171,1,36],[14,173,1,36,"e"],[14,174,1,36],[14,186,1,36,"_getPrototypeOf2"],[14,202,1,36],[14,203,1,36,"default"],[14,210,1,36],[14,212,1,36,"t"],[14,213,1,36],[14,215,1,36,"constructor"],[14,226,1,36],[14,230,1,36,"o"],[14,231,1,36],[14,232,1,36,"apply"],[14,237,1,36],[14,238,1,36,"t"],[14,239,1,36],[14,241,1,36,"e"],[14,242,1,36],[15,2,1,36],[15,11,1,36,"_isNativeReflectConstruct"],[15,37,1,36],[15,51,1,36,"t"],[15,52,1,36],[15,56,1,36,"Boolean"],[15,63,1,36],[15,64,1,36,"prototype"],[15,73,1,36],[15,74,1,36,"valueOf"],[15,81,1,36],[15,82,1,36,"call"],[15,86,1,36],[15,87,1,36,"Reflect"],[15,94,1,36],[15,95,1,36,"construct"],[15,104,1,36],[15,105,1,36,"Boolean"],[15,112,1,36],[15,145,1,36,"t"],[15,146,1,36],[15,159,1,36,"_isNativeReflectConstruct"],[15,184,1,36],[15,196,1,36,"_isNativeReflectConstruct"],[15,222,1,36],[15,235,1,36,"t"],[15,236,1,36],[16,2,1,36],[16,6,3,13,"TimeoutError"],[16,18,3,25],[16,21,3,25,"exports"],[16,28,3,25],[16,29,3,25,"TimeoutError"],[16,41,3,25],[16,67,3,25,"_BaseError"],[16,77,3,25],[17,4,4,2],[17,13,4,2,"TimeoutError"],[17,26,4,14,"msg"],[17,29,4,17],[17,31,4,19],[18,6,4,19],[18,10,4,19,"_classCallCheck2"],[18,26,4,19],[18,27,4,19,"default"],[18,34,4,19],[18,42,4,19,"TimeoutError"],[18,54,4,19],[19,6,4,19],[19,13,4,19,"_callSuper"],[19,23,4,19],[19,30,4,19,"TimeoutError"],[19,42,4,19],[19,45,5,10],[19,59,5,24],[19,61,5,26,"msg"],[19,64,5,29],[20,4,6,2],[21,4,6,3],[21,8,6,3,"_inherits2"],[21,18,6,3],[21,19,6,3,"default"],[21,26,6,3],[21,28,6,3,"TimeoutError"],[21,40,6,3],[21,42,6,3,"_BaseError"],[21,52,6,3],[22,4,6,3],[22,15,6,3,"_createClass2"],[22,28,6,3],[22,29,6,3,"default"],[22,36,6,3],[22,38,6,3,"TimeoutError"],[22,50,6,3],[23,2,6,3],[23,4,3,34,"BaseError"],[23,22,3,43],[24,2,9,0],[24,11,9,9,"makeTimeout"],[24,22,9,20,"makeTimeout"],[24,23,9,21,"timeoutMs"],[24,32,9,30],[24,34,9,32],[25,4,10,2],[25,8,10,6,"timerId"],[25,15,10,13],[25,18,10,16],[25,22,10,20],[26,4,12,2],[26,8,12,8,"promise"],[26,15,12,15],[26,18,12,18],[26,22,12,22,"Promise"],[26,29,12,29],[26,30,12,30],[26,40,12,31,"_"],[26,41,12,32],[26,43,12,34,"reject"],[26,49,12,40],[26,51,12,45],[27,6,13,4,"timerId"],[27,13,13,11],[27,16,13,14,"setTimeout"],[27,26,13,24],[27,27,13,25],[27,39,13,31],[28,8,14,6,"reject"],[28,14,14,12],[28,15,14,13],[28,19,14,17,"TimeoutError"],[28,31,14,29],[28,32,14,30],[28,41,14,39],[28,42,14,40],[28,43,14,41],[29,6,15,4],[29,7,15,5],[29,9,15,7,"timeoutMs"],[29,18,15,16],[29,19,15,17],[30,4,16,2],[30,5,16,3],[30,6,16,4],[31,4,18,2],[31,11,18,9],[32,6,19,4,"timerId"],[32,13,19,11],[32,15,19,13,"timerId"],[32,22,19,20],[33,6,20,4,"promise"],[33,13,20,11],[33,15,20,13,"promise"],[34,4,21,2],[34,5,21,3],[35,2,22,0],[36,2,24,7],[36,11,24,16,"fetchWithTimeout"],[36,27,24,32,"fetchWithTimeout"],[36,28,24,33,"url"],[36,31,24,36],[36,33,24,38,"options"],[36,40,24,45],[36,42,24,47,"timeoutMs"],[36,51,24,56],[36,53,24,58],[37,4,25,2],[37,8,25,2,"_makeTimeout"],[37,20,25,2],[37,23,25,45,"makeTimeout"],[37,34,25,56],[37,35,25,57,"timeoutMs"],[37,44,25,66],[37,45,25,67],[38,6,25,18,"timeoutPromise"],[38,20,25,32],[38,23,25,32,"_makeTimeout"],[38,35,25,32],[38,36,25,9,"promise"],[38,43,25,16],[39,6,25,34,"timerId"],[39,13,25,41],[39,16,25,41,"_makeTimeout"],[39,28,25,41],[39,29,25,34,"timerId"],[39,36,25,41],[40,4,26,2],[40,8,26,8,"abortController"],[40,23,26,23],[40,26,26,26],[40,30,26,30,"AbortController"],[40,45,26,45],[40,46,26,46],[40,47,26,47],[41,4,28,2],[41,11,28,9,"Promise"],[41,18,28,16],[41,19,28,17,"race"],[41,23,28,21],[41,24,28,22],[41,25,29,4,"fetch"],[41,30,29,9],[41,31,29,10,"url"],[41,34,29,13],[41,36,29,13,"Object"],[41,42,29,13],[41,43,29,13,"assign"],[41,49,29,13],[41,54,30,9,"options"],[41,61,30,16],[42,6,31,6,"signal"],[42,12,31,12],[42,14,31,14,"abortController"],[42,29,31,29],[42,30,31,30,"signal"],[43,4,31,36],[43,6,32,5],[43,7,32,6],[43,9,33,4,"timeoutPromise"],[43,23,33,18],[43,24,34,3],[43,25,34,4],[43,26,35,5,"catch"],[43,31,35,10],[43,32,35,11],[43,42,35,11,"error"],[43,47,35,16],[43,49,35,20],[44,6,36,6],[44,10,36,10,"error"],[44,15,36,15],[44,27,36,27,"TimeoutError"],[44,39,36,39],[44,41,36,41],[45,8,37,8,"abortController"],[45,23,37,23],[45,24,37,24,"abort"],[45,29,37,29],[45,30,37,30],[45,31,37,31],[46,6,38,6],[47,6,40,6],[47,12,40,12,"error"],[47,17,40,17],[48,4,41,4],[48,5,41,5],[48,6,41,6],[48,7,42,5,"then"],[48,11,42,9],[48,12,42,10],[48,22,42,10,"response"],[48,30,42,18],[48,32,42,22],[49,6,43,6,"clearTimeout"],[49,18,43,18],[49,19,43,19,"timerId"],[49,26,43,26],[49,27,43,27],[50,6,44,6],[50,13,44,13,"response"],[50,21,44,21],[51,4,45,4],[51,5,45,5],[51,6,45,6],[52,2,46,0],[53,0,46,1],[53,3]],"functionMap":{"names":["<global>","TimeoutError","TimeoutError#constructor","makeTimeout","Promise$argument_0","setTimeout$argument_0","fetchWithTimeout","Promise.race._catch$argument_0","Promise.race._catch.then$argument_0"],"mappings":"AAA;OCE;ECC;GDE;CDC;AGE;8BCG;yBCC;KDE;GDC;CHM;OME;WCW;KDM;UEC;KFG;CNC"}},"type":"js/module"}]}